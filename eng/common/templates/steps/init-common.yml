parameters:
  condition: true

steps:
- powershell: |
    echo "Env:BUILD_SOURCEBRANCH: $Env:BUILD_SOURCEBRANCH"
    $sourceBranch=$Env:BUILD_SOURCEBRANCH -replace "refs/heads/","" -replace "refs/tags/","" -replace "refs/pull/",""
    echo "Setting sourceBranch to $sourceBranch"
    echo "##vso[task.setvariable variable=sourceBranch]$sourceBranch"
  displayName: Define Source Branch Variable
  condition: and(succeeded(), ${{ parameters.condition }})
